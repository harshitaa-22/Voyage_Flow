<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>VoyageFlow — Interactive Travel Experience Simulator</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    /* custom styles in addition to Tailwind */
    .page { display: none; }
    .page.active { display: block; }
    .modal-backdrop { background: rgba(0,0,0,0.5); }
    .sticky-nav { position: sticky; top: 0; z-index: 40; }
    .section-card { transition: transform .18s ease, box-shadow .18s ease; }
    .section-card:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(0,0,0,0.12); }
    /* small input error style */
    .error { color: #dc2626; font-size: .85rem; }
  </style>
</head>
<body class="bg-gray-50 text-gray-800 antialiased leading-normal">
  <header class="bg-gradient-to-r from-indigo-600 to-teal-500 text-white p-6">
    <div class="max-w-5xl mx-auto flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12l2.5 1L12 4l7.5 9L22 12" stroke="white" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></svg>
        <div>
          <h1 class="text-2xl font-semibold">VoyageFlow</h1>
          <p class="text-sm opacity-90">Interactive Travel Experience Simulator</p>
        </div>
      </div>
      <nav class="hidden md:flex space-x-4 items-center">
        <button class="px-3 py-1 bg-white/20 rounded" onclick="showPage(1)">Register</button>
        <button class="px-3 py-1 bg-white/20 rounded" onclick="showPage(2)">Travel Blog</button>
        <button class="px-3 py-1 bg-white/20 rounded" onclick="showPage(3)">Itinerary & Calculator</button>
        <button class="px-3 py-1 bg-white/20 rounded" onclick="showPage(4)">Confirmation</button>
      </nav>
    </div>
  </header>

  <main class="max-w-5xl mx-auto p-6">
    <!-- PAGE 1: Registration -->
    <section id="page-1" class="page active bg-white rounded-lg shadow p-6">
      <h2 class="text-xl font-semibold mb-2">Step 1 — Register</h2>
      <p class="mb-6 text-sm text-gray-600">Please provide accurate details to continue. This is a front-end simulation — no data is stored on a server.</p>
      <form id="regForm" class="grid grid-cols-1 md:grid-cols-2 gap-4" novalidate>
        <div>
          <label class="block text-sm font-medium">Full Name</label>
          <input id="name" type="text" class="mt-1 block w-full rounded border-gray-300" required>
          <div id="err-name" class="error"></div>
        </div>
        <div>
          <label class="block text-sm font-medium">Email</label>
          <input id="email" type="email" class="mt-1 block w-full rounded border-gray-300" required>
          <div id="err-email" class="error"></div>
        </div>
        <div>
          <label class="block text-sm font-medium">Phone (10 digits)</label>
          <input id="phone" type="tel" inputmode="numeric" maxlength="10" class="mt-1 block w-full rounded border-gray-300" required>
          <div id="err-phone" class="error"></div>
        </div>
        <div>
          <label class="block text-sm font-medium">PIN Code (6 digits)</label>
          <input id="pin" type="text" inputmode="numeric" maxlength="6" class="mt-1 block w-full rounded border-gray-300" required>
          <div id="err-pin" class="error"></div>
        </div>
        <div class="md:col-span-2">
          <label class="block text-sm font-medium">About You (optional)</label>
          <textarea id="about" rows="3" class="mt-1 block w-full rounded border-gray-300"></textarea>
        </div>

        <div class="md:col-span-2 flex items-center justify-between mt-2">
          <div class="text-sm text-gray-600">By continuing you accept this demo's simulated flow.</div>
          <div class="space-x-2">
            <button type="button" class="px-4 py-2 bg-gray-200 rounded" onclick="resetAll()">Reset</button>
            <button id="regSubmit" type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded">Submit</button>
          </div>
        </div>
      </form>
    </section>

    <!-- PAGE 2: Travel Blog -->
    <section id="page-2" class="page bg-white rounded-lg shadow p-6 mt-6">
      <div class="sticky-nav bg-white/80 -mx-6 p-4 border-b">
        <div class="max-w-5xl mx-auto flex items-center justify-between">
          <div class="flex space-x-3">
            <a class="px-3 py-2 rounded hover:bg-gray-100 transition" href="#paris">Paris</a>
            <a class="px-3 py-2 rounded hover:bg-gray-100 transition" href="#tokyo">Tokyo</a>
            <a class="px-3 py-2 rounded hover:bg-gray-100 transition" href="#rome">Rome</a>
            <a class="px-3 py-2 rounded hover:bg-gray-100 transition" href="#sydney">Sydney</a>
            <a class="px-3 py-2 rounded hover:bg-gray-100 transition" href="#cape">Cape Town</a>
          </div>
          <div>
            <button class="px-3 py-2 bg-indigo-600 text-white rounded" onclick="scrollToTop()">Top</button>
          </div>
        </div>
      </div>

      <h2 class="text-xl font-semibold mb-4">Step 2 — Travel Blog & Destination Showcase</h2>

      <article id="paris" class="mb-6 section-card p-4 border rounded">
        <h3 class="text-lg font-semibold">Paris — The City of Light</h3>
        <p class="text-sm text-gray-600">Romantic streets, world-class museums, and the scent of fresh croissants. Stroll along the Seine and discover hidden bookshops.</p>
        <p class="mt-2 text-sm">Highlights: Eiffel Tower sunset, Louvre miniature tour, Montmartre cafés.</p>
      </article>

      <article id="tokyo" class="mb-6 section-card p-4 border rounded">
        <h3 class="text-lg font-semibold">Tokyo — Electric & Serene</h3>
        <p class="text-sm text-gray-600">Neon nights meet tranquil shrines. Tokyo blends cutting-edge technology with centuries-old tradition.</p>
        <p class="mt-2 text-sm">Highlights: Tsukiji street food, Shibuya crossing, day trip to Kamakura.</p>
      </article>

      <article id="rome" class="mb-6 section-card p-4 border rounded">
        <h3 class="text-lg font-semibold">Rome — Eternal Classics</h3>
        <p class="text-sm text-gray-600">Walk where history was made. Baroque squares, ancient ruins and gelato on every corner.</p>
        <p class="mt-2 text-sm">Highlights: Colosseum at dusk, Vatican galleries, local trattorias.</p>
      </article>

      <article id="sydney" class="mb-6 section-card p-4 border rounded">
        <h3 class="text-lg font-semibold">Sydney — Sun & Harbour</h3>
        <p class="text-sm text-gray-600">Beaches, opera, and coastal paths. Sydney is an outdoor lover's paradise.</p>
        <p class="mt-2 text-sm">Highlights: Bondi to Coogee walk, harbour cruise, local markets.</p>
      </article>

      <article id="cape" class="mb-6 section-card p-4 border rounded">
        <h3 class="text-lg font-semibold">Cape Town — Table Mountain & Coasts</h3>
        <p class="text-sm text-gray-600">Dramatic landscapes and vibrant culture make Cape Town unforgettable.</p>
        <p class="mt-2 text-sm">Highlights: Table Mountain sunset, Cape Winelands, coastal drives.</p>
      </article>

      <div class="mt-4 flex justify-end">
        <button class="px-4 py-2 bg-indigo-600 text-white rounded" onclick="showPage(3)">Plan Trip — Go to Itinerary</button>
      </div>
    </section>

    <!-- PAGE 3: Itinerary & Price Calculator -->
    <section id="page-3" class="page bg-white rounded-lg shadow p-6 mt-6">
      <h2 class="text-xl font-semibold mb-4">Step 3 — Trip Itinerary & Price Calculator</h2>
      <p class="text-sm text-gray-600 mb-4">Choose the travel options you prefer. Total updates in real-time.</p>

      <div class="grid md:grid-cols-3 gap-4">
        <div class="p-4 border rounded">
          <h4 class="font-semibold mb-2">Travel Options</h4>
          <label class="block"><input class="option" type="checkbox" data-price="12000"> Economy Flight — ₹12,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="25000"> Premium Flight — ₹25,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="4000"> Train / Local Transport Pack — ₹4,000</label>
        </div>

        <div class="p-4 border rounded">
          <h4 class="font-semibold mb-2">Food Packages</h4>
          <label class="block"><input class="option" type="checkbox" data-price="2000"> Local Street Food Tour — ₹2,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="5000"> Fine Dining Experience — ₹5,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="1500"> Daily Breakfast Add-on — ₹1,500</label>
        </div>

        <div class="p-4 border rounded">
          <h4 class="font-semibold mb-2">Activities</h4>
          <label class="block"><input class="option" type="checkbox" data-price="3000"> Guided City Tour — ₹3,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="8000"> Adventure Package — ₹8,000</label>
          <label class="block"><input class="option" type="checkbox" data-price="1200"> Museum Pass — ₹1,200</label>
        </div>
      </div>

      <div class="mt-6 p-4 border rounded flex items-center justify-between">
        <div>
          <h3 class="text-lg font-semibold">Total Price</h3>
          <p class="text-sm text-gray-600">Updates instantly when you toggle options.</p>
        </div>
        <div class="text-xl font-bold">₹ <span id="total">0</span></div>
      </div>

      <div class="mt-4 flex justify-between">
        <button class="px-4 py-2 bg-gray-200 rounded" onclick="showPage(2)">Back to Blog</button>
        <div>
          <button class="px-4 py-2 bg-indigo-600 text-white rounded mr-2" onclick="confirmSelection()">Confirm & Continue</button>
          <button class="px-4 py-2 bg-red-500 text-white rounded" onclick="clearSelections()">Clear Selections</button>
        </div>
      </div>
    </section>

    <!-- PAGE 4: Confirmation -->
    <section id="page-4" class="page bg-white rounded-lg shadow p-6 mt-6">
      <h2 class="text-xl font-semibold mb-2">Step 4 — Confirmation</h2>
      <p class="text-sm text-gray-600 mb-4">Thanks for using this VoyageFlow simulation. This page summarizes your choices.</p>
      <div id="summary" class="p-4 border rounded mb-4">
        <!-- populated by JS -->
      </div>
      <div class="flex justify-between items-center">
        <div>
          <a class="text-sm text-indigo-600" href="#">Share on social (demo)</a>
        </div>
        <div>
          <button class="px-4 py-2 bg-indigo-600 text-white rounded" onclick="startOver()">Start Over</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Generic modal markup -->
  <div id="modal" class="hidden fixed inset-0 flex items-center justify-center modal-backdrop">
    <div class="bg-white rounded-lg shadow max-w-md w-full p-6 mx-4">
      <div id="modal-content"></div>
      <div class="mt-4 text-right">
        <button id="modal-close" class="px-4 py-2 bg-gray-200 rounded">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Simple page show/hide
    function showPage(n) {
      for (let i = 1; i <= 4; i++) {
        document.getElementById('page-' + i).classList.remove('active');
      }
      document.getElementById('page-' + n).classList.add('active');
      if (n === 2) { window.scrollTo({ top: 0, behavior: 'smooth' }); }
    }

    // Smooth scroll helper for anchor links on page 2
    document.querySelectorAll('#page-2 a[href^="#"]').forEach(a => {
      a.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });

    function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }

    // Registration form validation
    const regForm = document.getElementById('regForm');

    function setError(id, msg) { document.getElementById(id).textContent = msg; }
    function clearErrors() { ['err-name','err-email','err-phone','err-pin'].forEach(id=>setError(id,'')); }

    function validateEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function validateForm() {
      clearErrors();
      let ok = true;
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const pin = document.getElementById('pin').value.trim();

      if (name.length < 2) { setError('err-name','Please enter your full name.'); ok = false; }
      if (!validateEmail(email)) { setError('err-email','Enter a valid email like user@domain.com'); ok = false; }
      if (!/^\d{10}$/.test(phone)) { setError('err-phone','Phone must be exactly 10 digits.'); ok = false; }
      if (!/^\d{6}$/.test(pin)) { setError('err-pin','PIN Code must be exactly 6 digits.'); ok = false; }
      return ok;
    }

    regForm.addEventListener('submit', function(e){
      e.preventDefault();
      if (validateForm()) {
        showModal('<h3 class="text-lg font-semibold">Registration Successful</h3><p class="mt-2 text-sm text-gray-600">Thanks for registering — moving you to the travel blog.</p>');
        // auto-close then navigate to page 2
        setTimeout(()=>{ hideModal(); showPage(2); }, 1400);
      }
    });

    // Modal helpers
    const modal = document.getElementById('modal');
    const modalContent = document.getElementById('modal-content');
    const modalClose = document.getElementById('modal-close');

    function showModal(html) { modalContent.innerHTML = html; modal.classList.remove('hidden'); }
    function hideModal() { modal.classList.add('hidden'); }
    modalClose.addEventListener('click', hideModal);
    modal.addEventListener('click', (e)=>{ if (e.target === modal) hideModal(); });

    const optionEls = Array.from(document.querySelectorAll('.option'));
    const totalEl = document.getElementById('total');
    function computeTotal(){
      let total = 0;
      const chosen = [];
      optionEls.forEach(opt => {
        if (opt.checked) { total += Number(opt.dataset.price); chosen.push(opt.parentElement.textContent.trim()); }
      });
      totalEl.textContent = total.toLocaleString('en-IN');
      return { total, chosen };
    }
    optionEls.forEach(opt => opt.addEventListener('change', computeTotal));

    function confirmSelection(){
      const { total, chosen } = computeTotal();
      if (total === 0) {
        showModal('<h3 class="text-lg font-semibold">No Options Selected</h3><p class="mt-2 text-sm text-gray-600">Please select at least one option to continue.</p>');
        return;
      }
      showModal('<h3 class="text-lg font-semibold">Selection Confirmed</h3><p class="mt-2 text-sm text-gray-600">Your simulated booking total is ₹' + total.toLocaleString('en-IN') + '.</p>');
      setTimeout(()=>{ hideModal(); populateSummary(); showPage(4); }, 1200);
    }

    function clearSelections(){ optionEls.forEach(o=> o.checked = false); computeTotal(); }

    function populateSummary(){
      const s = computeTotal();
      const name = document.getElementById('name').value.trim() || 'Guest';
      const email = document.getElementById('email').value.trim() || '-';
      const phone = document.getElementById('phone').value.trim() || '-';
      const about = document.getElementById('about').value.trim() || '-';
      const container = document.getElementById('summary');
      container.innerHTML = `
        <div class="mb-2"><strong>Name:</strong> ${escapeHtml(name)}</div>
        <div class="mb-2"><strong>Email:</strong> ${escapeHtml(email)}</div>
        <div class="mb-2"><strong>Phone:</strong> ${escapeHtml(phone)}</div>
        <div class="mb-2"><strong>About:</strong> ${escapeHtml(about)}</div>
        <div class="mb-2"><strong>Chosen Options:</strong>
          <ul class="list-disc ml-6 mt-1">${s.chosen.map(x=>'<li>'+escapeHtml(x)+'</li>').join('')}</ul>
        </div>
        <div class="mt-2"><strong>Total:</strong> ₹ ${s.total.toLocaleString('en-IN')}</div>
      `;
    }

    function escapeHtml(str){ return String(str).replace(/[&<>"']/g, function(s){ return ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"})[s]; }); }

    function startOver(){ resetAll(); showPage(1); }

    function resetAll(){
      regForm.reset(); clearSelections(); clearErrors(); document.getElementById('summary').innerHTML = '';
    }

    document.getElementById('phone').addEventListener('input', e=>{ e.target.value = e.target.value.replace(/[^0-9]/g,'').slice(0,10); });
    document.getElementById('pin').addEventListener('input', e=>{ e.target.value = e.target.value.replace(/[^0-9]/g,'').slice(0,6); });

    // initialize
    computeTotal();
  </script>
</body>
</html>